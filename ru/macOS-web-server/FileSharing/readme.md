# Заметки по использованию общего доступа к файлам на macOS

[Функция общего доступа к файлам](https://support.apple.com/en-us/HT204445) (ENG/[RUS](https://support.apple.com/ru-ru/HT204445)) - предоставляет общий доступа к файлам на текущем компьютере и возможность подключения к удаленному компьютеру.

<!--ts-->
  * [Включение общего доступа к файлам на macOS](#включение-общего-доступа-к-файлам-на-macos)
  * [Подключение к удаленному компьютеру, который предоставляет доступ к файлам](#подключение-к-удаленному-компьютеру-который-предоставляет-доступ-к-файлам)
<!--te-->

<a id="enable-file-sharing"></a>
## Включение общего доступа к файлам на macOS

1. Открываем "Системные настройки" (System Preferences).
2. Переходим в "Общий доступ" (Sharing).
3. В списке служб слева выбираем "Общий доступ к файлам" (File Sharing).
4. В списке общих папок справа, добавляем необходимые папки.
5. Для каждой папки выбираем пользователей и устанавливаем права доступа.  
5. Справа под индикатором "Общий доступ к файлам: вкл" (File Sharing: on) копируем ссылку для доступа к файлам на этом компьютере, вида "afp://127.0.0.1" или "smb://127.0.0.1", где 127.0.0.1 - ваш текущий IP адрес, afp или smb (по умолчанию) - сетевые протоколы, которые можно настроить кликнув по кнопке "Параметры" (Options).

> Если компьютер подключен к сети напрямую через сетевой кабель, то должен отображаться внешний IP адрес предоставленный провайдером, который можно использовать для удаленного подключения по SSH по сети интернет.
> 
> Если же компьютер подключен к Wi-Fi сети, то будет отображаться внутренний (локальный) IP адрес и доступ будет только по локальной сети, поэтому будет необходимо настроить на роутере перенаправление [139, 445 и 548 порта](https://support.apple.com/en-us/HT202944) (ENG/[RUS](https://support.apple.com/ru-ru/HT202944)) на компьютер по его локальному IP адресу.

<a id="connect-to-server"></a>
## Подключение к удаленному компьютеру, который предоставляет доступ к файлам (сетевому диску)

1. Открываем в Finder.
2. В строке меню выбираем "Переход" (Go) > "Подключение к серверу" (Connect to server) или переходим с помощью горячих клавиш [command + K].
3. В открывшемся окне вводим "Адрес сервера" (Server address) и нажимаем "Подключиться" (Connect).

> В качестве адреса сервера необходимо вводить адрес вида "afp://127.0.0.1" или "smb://127.0.0.1".
> 
> Для подключения в локальной сети, достаточно в Finder открыть раздел "Общий доступ" и выбрать нужный компьютер.